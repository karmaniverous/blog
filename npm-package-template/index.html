<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>NPM Package Template - some words</title>
<meta name="description" content="An ES6 NPM package project template featuring a CLI, test support, automated API docs, release management &amp; more!">


  <meta name="author" content="Jason Williscroft">
  
  <meta property="article:author" content="Jason Williscroft">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="some words">
<meta property="og:title" content="NPM Package Template">
<meta property="og:url" content="https://karmanivero.us/npm-package-template/">


  <meta property="og:description" content="An ES6 NPM package project template featuring a CLI, test support, automated API docs, release management &amp; more!">



  <meta property="og:image" content="https://karmanivero.us/assets/images/logo-npm.png">



  <meta name="twitter:site" content="@karmaniverous">
  <meta name="twitter:title" content="NPM Package Template">
  <meta name="twitter:description" content="An ES6 NPM package project template featuring a CLI, test support, automated API docs, release management &amp; more!">
  <meta name="twitter:url" content="https://karmanivero.us/npm-package-template/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://karmanivero.us/assets/images/logo-npm.png">
  

  



  <meta property="article:published_time" content="2022-12-19T00:00:00+00:00">






<link rel="canonical" href="https://karmanivero.us/npm-package-template/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="some words Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link
  rel="apple-touch-icon"
  sizes="180x180"
  href="/assets/favicon/apple-touch-icon.png" />
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/assets/favicon/favicon-32x32.png" />
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/assets/favicon/favicon-16x16.png" />
<link rel="manifest" href="/assets/favicon/site.webmanifest" />
<link
  rel="mask-icon"
  href="/assets/favicon/safari-pinned-tab.svg"
  color="#5bbad5" />
<link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
<meta name="msapplication-TileColor" content="#2b5797" />
<meta name="msapplication-config" content="/assets/favicon/browserconfig.xml" />
<meta name="theme-color" content="#ffffff" />



<!-- Mathjax Support -->
<script
  type="text/javascript"
  async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          some words
          <span class="site-subtitle">many of them true</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/projects/"
                
                
              >Projects</a>
            </li><li class="masthead__menu-item">
              <a
                href="/toolkits/"
                
                
              >Toolkits</a>
            </li><li class="masthead__menu-item">
              <a
                href="/bali/"
                
                
              >Bali</a>
            </li><li class="masthead__menu-item">
              <a
                href="/topics/"
                
                
              >Topics</a>
            </li><li class="masthead__menu-item">
              <a
                href="/blog/"
                
                
              >Archive</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://karmanivero.us/">
        <img src="/assets/images/bio-photo.jpg" alt="Jason Williscroft" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://karmanivero.us/" itemprop="url">Jason Williscroft</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p><em>resume bullets<br />may read differently at the<br />threshold of heaven</em></p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Contact</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://twitter.com/karmaniverous" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-square-x-twitter" aria-hidden="true"></i><span class="label">X</span></a></li>
          
        
          
            <li><a href="https://techhub.social/@karmaniverous" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-mastodon" aria-hidden="true"></i><span class="label">Mastodon</span></a></li>
          
        
          
            <li><a href="https://github.com/karmaniverous" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/jscroft/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://wa.me/17737500338" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-whatsapp" aria-hidden="true"></i><span class="label">WhatsApp</span></a></li>
          
        
          
            <li><a href="https://t.me/karmaniverous" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-brands fa-telegram" aria-hidden="true"></i><span class="label">Telegram</span></a></li>
          
        
          
            <li><a href="https://calendly.com/karmaniverous" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fa-regular fa-calendar-plus" aria-hidden="true"></i><span class="label">Meet</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article
    class="page"
    itemscope
    itemtype="https://schema.org/CreativeWork"
    >
    <meta itemprop="headline" content="NPM Package Template">
    <meta itemprop="description" content="An ES6 NPM package project template featuring a CLI, test support, automated API docs, release management &amp; more!">
    <meta itemprop="datePublished" content="2022-12-19T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1
              id="page-title"
              class="page__title"
              itemprop="headline">
              <a href="https://karmanivero.us/npm-package-template/" itemprop="url">NPM Package Template
</a>
            </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i
          class="far fa-calendar-alt"
          aria-hidden="true"
        ></i>
        
        <time datetime="2022-12-19T00:00:00+00:00">December 19, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          16
          minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header>
                <h4 class="nav__title">
                  <i class="fas fa-file-alt"></i>
                  On this page</h4>
              </header>
              <ul class="toc__menu"><li><a href="#setting-up-your-dev-environment">Setting Up Your Dev Environment</a><ul><li><a href="#create-local-environment-variable-file">Create Local Environment Variable File</a></li><li><a href="#connect-to-github">Connect to GitHub</a></li><li><a href="#vulnerabilities">Vulnerabilities</a></li></ul></li><li><a href="#package-structure">Package Structure</a></li><li><a href="#npm-scripts">NPM Scripts</a></li><li><a href="#package-entry-points">Package Entry Points</a><ul><li><a href="#import-entry-points">import Entry Points</a></li><li><a href="#require-entry-points">require Entry Points</a></li><li><a href="#bin-entry-points">bin Entry Points</a></li></ul></li><li><a href="#unit-testing">Unit Testing</a></li><li><a href="#package-documentation">Package Documentation</a></li><li><a href="#integration-testing">Integration Testing</a></li><li><a href="#create--publish-a-release">Create &amp; Publish a Release</a><ul><li><a href="#package-scope--access">Package Scope &amp; Access</a></li><li><a href="#configuring-packagejson">Configuring package.json</a></li><li><a href="#generating-the-release">Generating the Release</a></li></ul></li><li><a href="#integrate-a-template-update">Integrate a Template Update</a></li><li><a href="#issues">Issues</a></li></ul>
            </nav>
          </aside>
        
        <figure class="align-left drop-image">
    <img src="/assets/images/logo-npm.png" />
</figure>

<p>You wrote a sweet piece of code! Releasing it on <a href="https://www.npmjs.com/">NPM</a>
seems like the obvious next step. Right?</p>

<p><em>Try it!</em> Not as easy to do as you might think. At high quality. From scratch.</p>

<p>So here’s a plug-and-play
<a href="https://github.com/karmaniverous/npm-package-template">NPM package template</a>
that offers the following features:</p>

<ul>
  <li>
    <p>Tree-shakable support for the latest ES6 goodies with
<a href="https://www.npmjs.com/package/eslint"><code class="language-plaintext highlighter-rouge">eslint</code></a> <em>uber alles</em>.</p>
  </li>
  <li>
    <p>CJS distributions targeting specific browser support scenarios.</p>
  </li>
  <li>
    <p>Command line interfaces for your widget with
<a href="https://www.npmjs.com/package/commander"><code class="language-plaintext highlighter-rouge">commander</code></a>.</p>
  </li>
  <li>
    <p>Automated <a href="https://www.npmjs.com/package/lodash"><code class="language-plaintext highlighter-rouge">lodash</code></a> cherry-picking with
<a href="https://www.npmjs.com/package/babel-plugin-lodash"><code class="language-plaintext highlighter-rouge">babel-plugin-lodash</code></a>.</p>
  </li>
  <li>
    <p><a href="https://www.npmjs.com/package/mocha"><code class="language-plaintext highlighter-rouge">mocha</code></a> &amp;
<a href="https://www.npmjs.com/package/chai"><code class="language-plaintext highlighter-rouge">chai</code></a> for testing, with examples, and a
sweet testing console.</p>
  </li>
  <li>
    <p>Code formatting at every save &amp; paste with
<a href="https://www.npmjs.com/package/prettier"><code class="language-plaintext highlighter-rouge">prettier</code></a>.</p>
  </li>
  <li>
    <p>Automated documentation of your API with
<a href="https://www.npmjs.com/package/jsdoc-to-markdown"><code class="language-plaintext highlighter-rouge">jsdoc-to-markdown</code></a> and
assembly of your README with
<a href="https://www.npmjs.com/package/concat-md"><code class="language-plaintext highlighter-rouge">concat-md</code></a>.</p>
  </li>
  <li>
    <p>One-button release to GitHub &amp; publish to NPM with
<a href="https://www.npmjs.com/package/release-it"><code class="language-plaintext highlighter-rouge">release-it</code></a>.</p>
  </li>
</ul>

<p class="text-center"><a href="https://github.com/karmaniverous/npm-package-template" class="btn btn--info btn--large">See it on GitHub!</a>   <a href="https://github.com/karmaniverous/npm-package-template/generate" class="btn btn--primary btn--large">Clone the Repo!</a></p>

<p class="notice--info"><strong>If you want to create a React component</strong> in an NPM package, try my
<a href="/blog/react-component-npm-package-template">React Component NPM Package Template</a>
instead!</p>

<h2 id="setting-up-your-dev-environment">Setting Up Your Dev Environment</h2>

<p><strong>Use <a href="https://code.visualstudio.com/">VS Code</a> as your code editor!</strong> Not an absolute requirement, but you’ll be glad you did.</p>

<ol>
  <li>
    <p><a href="https://github.com/karmaniverous/npm-package-template/generate">Click here</a> to generate a new repository from this template.</p>
  </li>
  <li>
    <p>Clone the new repository to your local machine.</p>
  </li>
  <li>
    <p>VS Code will ask to install a bunch of recommended extensions. Accept all of them. If you miss this prompt, follow these steps:</p>

    <ul>
      <li>Open the VS Code Extensions tab</li>
      <li>Enter <code class="language-plaintext highlighter-rouge">@recommended</code> into the search box</li>
      <li>
        <p>Click the Download link.</p>

        <figure>
  <a href="/assets/images/npm-package-template-extensions.png">
    <img src="/assets/images/npm-package-template-extensions.png" style="width: 250px;" />
  </a>
 </figure>
      </li>
    </ul>
  </li>
  <li>
    <p>Zero the package version and install dependencies by running these commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm version 0.0.0
npm <span class="nb">install</span>
</code></pre></div>    </div>

    <p>This may produce an audit report. See <a href="#vulnerabilities">Vulnerabilities</a>
below for more info.</p>
  </li>
  <li>
    <p>Run your tests from the command line:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run <span class="nb">test</span>

<span class="c">#  foo</span>
<span class="c">#    ✔ with input</span>
<span class="c">#    ✔ without input</span>
<span class="c">#</span>
<span class="c">#  2 passing (5ms)</span>
</code></pre></div>    </div>

    <p>If you installed the VS Code extensions referenced above, use the <code class="language-plaintext highlighter-rouge">Testing</code>
panel to visualize &amp; run your unit tests.</p>

    <figure>
  <a href="/assets/images/npm-package-template-testing-panel.png">
   <img src="/assets/images/npm-package-template-testing-panel.png" />
  </a>
 </figure>
  </li>
  <li>
    <p>Package your code and link it locally by running:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run package
npm <span class="nb">link</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Enter a few of your package CLI commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mycli

<span class="c"># foo nil!</span>

mycli <span class="nt">-f</span> bar

<span class="c"># foo bar!</span>

mycli <span class="nt">-v</span>

<span class="c"># 0.0.0</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Clean up by unlinking your package.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">unlink</span> <span class="nt">-g</span> @karmaniverous/npm-package-template
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="create-local-environment-variable-file">Create Local Environment Variable File</h3>

<p>Look for
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/.env.local.template"><code class="language-plaintext highlighter-rouge">.env.local.template</code></a>
in your project directory. Copy this file and remove the <code class="language-plaintext highlighter-rouge">.template</code> extension
from the copy.</p>

<p class="notice--warning"><strong>Do not simply rename this file!</strong> Anybody who pulls your repo will need this
template to create the same file in his own local environment.</p>

<h3 id="connect-to-github">Connect to GitHub</h3>

<p>This template supports automated release management with
<a href="https://github.com/release-it/release-it"><code class="language-plaintext highlighter-rouge">release-it</code></a>.</p>

<p>If you use GitHub, create a
<a href="https://github.com/settings/tokens/new?scopes=repo&amp;description=release-it">Personal Access Token</a>
(<code class="language-plaintext highlighter-rouge">release-it</code> only needs “repo” access; no “admin” or other scopes). Add it as
the value of <code class="language-plaintext highlighter-rouge">GITHUB_TOKEN</code> in <code class="language-plaintext highlighter-rouge">.env.local</code>.</p>

<p>If you use GitLab, follow
<a href="https://github.com/release-it/release-it#gitlab-releases">these instructions</a>
and place your token in the same file.</p>

<p>For other release control systems, consult the
<a href="https://github.com/release-it/release-it#readme"><code class="language-plaintext highlighter-rouge">release-it</code> README</a>.</p>

<p>You can now create a release at GitHub and optionally publish it to NPM with
this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run release
</code></pre></div></div>

<h3 id="vulnerabilities">Vulnerabilities</h3>

<p>At the time of this writing, running <code class="language-plaintext highlighter-rouge">npm install</code> will generate the following
vulnerability warning:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6 vulnerabilities (3 high, 3 critical)
</code></pre></div></div>

<p>If you run <code class="language-plaintext highlighter-rouge">npm audit</code>, you will find that all of these vulnerabilities relate
to the following dev dependencies, all of which are to do with docs generation:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm list underscore

<span class="c"># @karmaniverous/npm-package-template@0.5.1-0</span>
<span class="c"># ├─┬ concat-md@0.5.0</span>
<span class="c"># │ └─┬ doctoc@1.4.0</span>
<span class="c"># │   └── underscore@1.8.3</span>
<span class="c"># └─┬ jsdoc-to-markdown@8.0.0</span>
<span class="c">#   └─┬ jsdoc-api@8.0.0</span>
<span class="c">#     └─┬ jsdoc@4.0.0</span>
<span class="c">#       └── underscore@1.13.6</span>

npm list trim

<span class="c"># @karmaniverous/npm-package-template@0.5.1-0</span>
<span class="c"># └─┬ concat-md@0.5.0</span>
<span class="c">#   └─┬ doctoc@1.4.0</span>
<span class="c">#     └─┬ @textlint/markdown-to-ast@6.0.9</span>
<span class="c">#       └─┬ remark-parse@5.0.0</span>
<span class="c">#         └── trim@0.0.1</span>
</code></pre></div></div>

<p class="notice--info">These vulnerable dependencies will NOT be included in your NPM package!</p>

<h2 id="package-structure">Package Structure</h2>

<p>This template produces a hybrid NPM package that features both native ES and
platform-specific CommonJS module entry points as well as a native ES CLI.</p>

<p>The template supports tree-shakable <code class="language-plaintext highlighter-rouge">import</code> from its native ES library entry
point at at
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/lib/index.js"><code class="language-plaintext highlighter-rouge">lib/index.js</code></a>.
<strong>This is where you write your source code!</strong> See
<a href="#import-entry-points"><code class="language-plaintext highlighter-rouge">import</code> Entry Points</a> for more info on
developing to this entry point and adding new ones.</p>

<p>The template supports <code class="language-plaintext highlighter-rouge">require</code> from its platform-specific CommonJS library
entry point configured at
<a href="https://github.com/karmaniverous/npm-package-template/tree/main/dist/default"><code class="language-plaintext highlighter-rouge">dist/default</code></a>.
<strong>This code is generated by Babel</strong> and not pushed to the repository, so you
won’t see it here. See
<a href="#require-entry-points"><code class="language-plaintext highlighter-rouge">require</code> Entry Points</a> for more
info on configuring this entry point and adding new ones.</p>

<p>The template features a native ES command-line interface (CLI) entry point at
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/bin/mycli/index.js"><code class="language-plaintext highlighter-rouge">bin/mycli/index.js</code></a>.
<strong>This is where you write your CLI!</strong> See
<a href="#bin-entry-points"><code class="language-plaintext highlighter-rouge">bin</code> Entry Points</a> below for more info on
configuring this entry point and adding new ones.</p>

<p>After you’ve <a href="#setting-up-your-dev-environment">set up your dev environment</a>,
your package will look like this. The <code class="language-plaintext highlighter-rouge">git</code> &amp; <code class="language-plaintext highlighter-rouge">npm</code> columns indicate which files
participate in <code class="language-plaintext highlighter-rouge">git push</code> and <code class="language-plaintext highlighter-rouge">npm publish</code>, respectively.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git npm    Item                         Description
---------------------------------------------------------------------------
        └─ npm-package-template ....... package root
 x ....... ├─ .babelrc ................ global Babel config
 x . x ... ├─ .env .................... global env variables
 ......... ├─ .env.local .............. create from template
 x . x ... ├─ .env.local.template ..... local env secrets template
 x ....... ├─ .eslintrc.json .......... global ESLint config
 x ....... ├─ .gitignore .............. package git ignore
 x ....... ├─ .npmignore .............. package npm ignore
 x ....... ├─ .vscode ................. VS Code project config
 x ....... │  ├─ extensions.json ...... recommended extensions
 x ....... │  └─ settings.json ........ project settings
 x . x ... ├─ bin ..................... all CLI source code (ES)
 x . x ... │  └─ mycli ................ mycli code (ES)
 x . x ... │     └─ index.js .......... mycli entry point (ES)
 x . x ... ├─ dist .................... all CommonJS distributions
 x . x ... │  ├─ default .............. specific CommonJS distribution
 x ....... │  │  ├─ .babelrc .......... Babel target settings
 x ....... │  │  ├─ .gitignore ........ don't send the lib to git...
 x ....... │  │  ├─ .npmignore ........ but DO send it to NPM
 x . x ... │  │  └─ lib/ .............. dist code (generated by Babel)
 x . x ... │  └─ package.json ......... dist code is CommonJS
 x ....... ├─ doc ..................... all documentation config
 x ....... │  ├─ .prettierignore ...... ignore handlebars formatting
 x ....... │  ├─ 1-main.md ............ your main README content
 x ....... │  ├─ 2-cli.md ............. your CLI documentation
 x ....... │  ├─ 3-api.md ............. api docs (generated by jsdoc)
 x ....... │  ├─ 4-footer.md .......... your README footer
 x ....... │  ├─ api-template.hbs ..... your API docs template
 x ....... │  └─ jsdoc.config.json .... ignore test code
 x . x ... ├─ lib ..................... your library source code (ES)
 x . x ... │  ├─ foo .................. structure your code how you like
 x . x ... │  │  ├─ foo.js ............ source code module (ES)
 x ....... │  │  └─ foo.test.js ....... test script (ES)
 x . x ... │  ├─ index.js ............. library import entry point (ES)
 x ....... ├─ package-lock.json ....... dependencies (managed by npm)
 x . x ... ├─ package.json ............ package config
 x . x ... └─ README.md ............... generated by jsdoc
</code></pre></div></div>

<h2 id="npm-scripts">NPM Scripts</h2>

<table>
  <thead>
    <tr>
      <th>Script</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">npm run lint</code></td>
      <td>Executes <a href="https://www.npmjs.com/package/eslint"><code class="language-plaintext highlighter-rouge">eslint</code></a> to find errors in your code.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">npm run test</code></td>
      <td>Executes <a href="https://www.npmjs.com/package/mocha"><code class="language-plaintext highlighter-rouge">mocha</code></a> to run all unit tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">npm run build</code></td>
      <td>Executes <a href="https://babeljs.io/docs/en/babel-cli"><code class="language-plaintext highlighter-rouge">babel</code></a> to build all CJS distributions.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">npm run doc</code></td>
      <td>Executes <a href="https://www.npmjs.com/package/jsdoc-to-markdown"><code class="language-plaintext highlighter-rouge">jsdoc2md</code></a> to build your README file from the <a href="https://github.com/karmaniverous/npm-package-template/tree/main/doc"><code class="language-plaintext highlighter-rouge">doc</code></a> directory.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">npm run package</code></td>
      <td>Runs <code class="language-plaintext highlighter-rouge">lint</code>, <code class="language-plaintext highlighter-rouge">test</code>, <code class="language-plaintext highlighter-rouge">build</code> &amp; <code class="language-plaintext highlighter-rouge">doc</code> to exercise your full packaging process.</td>
    </tr>
    <tr>
      <td><span style="white-space: nowrap;"><code class="language-plaintext highlighter-rouge">npm run release</code></span></td>
      <td>Runs <code class="language-plaintext highlighter-rouge">package</code> &amp; executes <a href="https://www.npmjs.com/package/release-it"><code class="language-plaintext highlighter-rouge">release-it</code></a> to create a GitHub release &amp; publish your code to NPM.</td>
    </tr>
  </tbody>
</table>

<h2 id="package-entry-points">Package Entry Points</h2>

<h3 id="import-entry-points"><code class="language-plaintext highlighter-rouge">import</code> Entry Points</h3>

<p>All custom library code lives in the
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/lib"><code class="language-plaintext highlighter-rouge">lib</code></a>
directory. This is native ES code and you can structure it however you like.</p>

<p>Package <code class="language-plaintext highlighter-rouge">import</code> entry points are defined in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>
like this:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"exports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"."</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"import"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib/index.js"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>There is currently a single <code class="language-plaintext highlighter-rouge">import</code> entry point defined at the package root,
which points to
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/lib/index.js"><code class="language-plaintext highlighter-rouge">lib/index.js</code></a>.
The entry point will expose whatever this module exports, and can be referenced
in an ES module like this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">PACKAGE_INFO</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@karmaniverous/npm-package-template`;
</span></code></pre></div></div>

<p>Some key guidelines:</p>

<ul>
  <li>Avoid using module default exports, even internally. This can create
unexpected weirdness in the Babel-generated CJS distributions. Use named
exports instead.</li>
</ul>

<p>See the
<a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#package-entry-points">Node Package Entry Points</a>
documentation for more info on defining additional entry points.</p>

<p class="notice--warning">Do not move or rename
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/lib/index.js"><code class="language-plaintext highlighter-rouge">lib/index.js</code></a>
without making matching changes in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>,
or your ES exports will not work!</p>

<h3 id="require-entry-points"><code class="language-plaintext highlighter-rouge">require</code> Entry Points</h3>

<p>The CJS distributions behind your <code class="language-plaintext highlighter-rouge">require</code> entry points are generated by Babel
from your ES source code in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/lib"><code class="language-plaintext highlighter-rouge">lib</code></a>.
Each distribution is optimized for a set of browser constraints as expressed by
a <a href="https://github.com/browserslist/browserslist#queries">browserslist query</a>.</p>

<p>The template’s default distribution is located at
<a href="https://github.com/karmaniverous/npm-package-template/tree/main/dist/default"><code class="language-plaintext highlighter-rouge">dist/default</code></a>
and uses
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/dist/default/.babelrc"><code class="language-plaintext highlighter-rouge">.babelrc</code></a>
to set <code class="language-plaintext highlighter-rouge">browserslist</code> query <code class="language-plaintext highlighter-rouge">"defaults"</code>.</p>

<p>Package <code class="language-plaintext highlighter-rouge">require</code> entry points are defined in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>
like this:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"exports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"."</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"require"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./dist/default/lib/index.js"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>There is currently a single <code class="language-plaintext highlighter-rouge">require</code> entry point defined at the package root,
which points to <code class="language-plaintext highlighter-rouge">dist/default/lib/index.js</code>. The entry point will expose
whatever this module exports, and can be referenced in CJS code like this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">PACKAGE_INFO</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@karmaniverous/npm-package-template`);
</span></code></pre></div></div>

<p>See the
<a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#package-entry-points">Node Package Entry Points</a>
documentation for more info on defining additional entry points.</p>

<p>To create a new CJS distribution:</p>

<ol>
  <li>
    <p>Duplicate the <code class="language-plaintext highlighter-rouge">default</code> directory in <code class="language-plaintext highlighter-rouge">dist</code> and give the copy a meaningful
name (e.g. <code class="language-plaintext highlighter-rouge">mydist</code>).</p>
  </li>
  <li>
    <p>In the new directory’s <code class="language-plaintext highlighter-rouge">.babelrc</code> file, change the <code class="language-plaintext highlighter-rouge">targets</code> value to reflect
this distribution’s
<a href="https://github.com/browserslist/browserslist#queries"><code class="language-plaintext highlighter-rouge">browserslist</code> query</a>:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new query"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Add a new <code class="language-plaintext highlighter-rouge">require</code> entry point and a new <code class="language-plaintext highlighter-rouge">build</code> script step to your
project’s
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"exports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"./mydist"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"require"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./dist/mydist/lib/index.js"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"babel lib -d dist/default/lib --delete-dir-on-start --config-file ./dist/default/.babelrc &amp;&amp; babel lib -d dist/mydist/lib --delete-dir-on-start --config-file ./dist/mydist/.babelrc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Build the new distribution with <code class="language-plaintext highlighter-rouge">npm run build</code>.</p>
  </li>
</ol>

<p class="notice--warning">Do not move or rename
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/dist/default"><code class="language-plaintext highlighter-rouge">dist/default.js</code></a>
without making matching changes in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>,
or your CJS exports will not work!</p>

<h3 id="bin-entry-points"><code class="language-plaintext highlighter-rouge">bin</code> Entry Points</h3>

<p>Each command-line interface (CLI) entry point is a subdirectory of your
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/bin"><code class="language-plaintext highlighter-rouge">bin</code></a>
directory. These are native ES code and you can structure them internally
however you like.</p>

<p>CLI entry points are defined in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>
like this:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"bin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mycli"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bin/mycli/index.js"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>There is currently a single CLI entry point defined at the package root, which
points to
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/bin/mycli/index.js"><code class="language-plaintext highlighter-rouge">bin/mycli/index.js</code></a>
and exposes the <code class="language-plaintext highlighter-rouge">mycli</code> command.</p>

<p>See the
<a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#bin">NPM documentaion</a>
documentation for more info on defining CLI entry points.</p>

<p>To create a new CLI entry point:</p>

<ol>
  <li>
    <p>Create a new subdirectory under
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/bin"><code class="language-plaintext highlighter-rouge">bin</code></a>
(e.g. <code class="language-plaintext highlighter-rouge">myothercli</code>).</p>
  </li>
  <li>
    <p>Add an <code class="language-plaintext highlighter-rouge">index.js</code> file expressing your command logic, along with other
supporting code. Use <a href="https://www.npmjs.com/package/commander"><code class="language-plaintext highlighter-rouge">commander</code></a>
for great results!</p>
  </li>
  <li>
    <p>Add the new CLI entry point to your
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>
like this:</p>
  </li>
</ol>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"bin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"myothercli"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bin/myothercli/index.js"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="notice--warning">Do not move or rename
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/bin/mycli/index.js"><code class="language-plaintext highlighter-rouge">bin/mycli/index.js</code></a>
without making matching changes in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>,
or your CLI will not work!</p>

<h2 id="unit-testing">Unit Testing</h2>

<p>By default, this template supports
<a href="https://www.npmjs.com/package/mocha"><code class="language-plaintext highlighter-rouge">mocha</code></a> tests using the
<a href="https://www.npmjs.com/package/chai"><code class="language-plaintext highlighter-rouge">chai</code></a> assertion library. The included
sample tests express the <a href="https://www.chaijs.com/guide/styles/#should"><code class="language-plaintext highlighter-rouge">should</code></a>
assertion syntax.</p>

<p>The default configuration will recognize any file as a test file that…</p>

<ul>
  <li>has <code class="language-plaintext highlighter-rouge">.test.</code> just before its file name extension (i.e. <code class="language-plaintext highlighter-rouge">example.test.js</code>).</li>
  <li>is not located in the <code class="language-plaintext highlighter-rouge">node_modules</code> or <code class="language-plaintext highlighter-rouge">dist</code> directories.</li>
</ul>

<p>The sample code packages tests next to the source code they exercise. If you
prefer to segregate your tests and related artifacts into a <code class="language-plaintext highlighter-rouge">test</code> directory,
that will work as well.</p>

<p>Either way, all test files meeting the above conditions and <em>anything</em> under a
<code class="language-plaintext highlighter-rouge">test</code> directory will be excluded from the build.</p>

<p>To enable <code class="language-plaintext highlighter-rouge">mocha</code>-specific linting in your test files, add the following
directive at the top of every test file:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* eslint-env mocha */</span>
</code></pre></div></div>

<p>The recommended
<a href="https://marketplace.visualstudio.com/items?itemName=hbenl.vscode-mocha-test-adapter">Mocha Test Explorer</a>
extension will suface all of your tests into a sidebar console, nested to
reflect your <code class="language-plaintext highlighter-rouge">describe</code> hierarchy. It will also decorate your test source code
with test running and status reporting controls.</p>

<figure>
  <a href="/assets/images/npm-package-template-testing-panel.png">
    <img src="/assets/images/npm-package-template-testing-panel.png" />
  </a>
</figure>

<h2 id="package-documentation">Package Documentation</h2>

<p>When you run <code class="language-plaintext highlighter-rouge">npm run doc</code>, these two steps happen in order:</p>

<ol>
  <li>
    <p><a href="https://www.npmjs.com/package/jsdoc-to-markdown"><code class="language-plaintext highlighter-rouge">jsdoc2md</code></a> parses the
source code in
<a href="https://github.com/karmaniverous/npm-package-template/tree/main/lib"><code class="language-plaintext highlighter-rouge">lib</code></a>
for <a href="https://jsdoc.app/index.html">JSDoc</a>-formatted comments, and generates
API documenation in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/3-api.md"><code class="language-plaintext highlighter-rouge">doc/3-api.md</code></a>
using
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/api-template.hbs"><code class="language-plaintext highlighter-rouge">doc/api-template.hbs</code></a>
as a template. It ignores test files and anything with the
<a href="https://jsdoc.app/tags-private.html"><code class="language-plaintext highlighter-rouge">@private</code></a> tag.</p>
  </li>
  <li>
    <p><a href="https://www.npmjs.com/package/concat-md"><code class="language-plaintext highlighter-rouge">concat-md</code></a> concatenates every
<code class="language-plaintext highlighter-rouge">.md</code> file in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc"><code class="language-plaintext highlighter-rouge">doc</code></a>
into your main
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/README.md"><code class="language-plaintext highlighter-rouge">README</code></a>
file. Files are concatenated in filename order (hence the numbered files).</p>
  </li>
</ol>

<p>You can exert fine control over the final result by doing the following:</p>

<ul>
  <li>
    <p><strong>Edit
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/1-main.md"><code class="language-plaintext highlighter-rouge">1-main.md</code></a>.</strong>
This is the main content of your README file. At a minimum it should contain a
header and a brief description of the project, but it can be whatever you
want.</p>
  </li>
  <li>
    <p><strong>Edit or delete
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/2-cli.md"><code class="language-plaintext highlighter-rouge">2-cli.md</code></a>.</strong>
This is your CLI documentation. The easiest way to get this is to run your
CLI’s help function on the command line &amp; copy the result (e.g. <code class="language-plaintext highlighter-rouge">mycli -h</code>).
If your package has no CLI, just delete this file.</p>
  </li>
  <li>
    <p><strong>Edit
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/api-template.hbs"><code class="language-plaintext highlighter-rouge">api-template.hbs</code></a>.</strong>
This is your API documentation template.
<a href="https://www.npmjs.com/package/jsdoc-to-markdown"><code class="language-plaintext highlighter-rouge">jsdoc2md</code></a> will render
documentation based on the <a href="https://jsdoc.app/index.html">JSDoc</a>-formatted
comments in your source code and render them at the <code class="language-plaintext highlighter-rouge">{{&gt;main}}</code> tag in
the template. Add any other content in Markdown format.</p>
  </li>
  <li>
    <p><strong>Edit
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/doc/4-footer.md"><code class="language-plaintext highlighter-rouge">4-footer.md</code></a>.</strong>
This footer will appear at the bottom of your
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/README.md"><code class="language-plaintext highlighter-rouge">README</code></a>
file.</p>
  </li>
</ul>

<p>Some tips:</p>

<ul>
  <li>
    <p>Add whatever additional <code class="language-plaintext highlighter-rouge">.md</code> files you like! Just remember they will be
rendered in filename order.</p>
  </li>
  <li>
    <p>If your main content is really long, consider linking to a blog post instead
(like this one!). That way you can update your documentation without having to
create a new release.</p>
  </li>
  <li>
    <p>Use <a href="https://www.npmjs.com/package/commander"><code class="language-plaintext highlighter-rouge">commander</code></a> to
<a href="#develop-cli-entry-points">create your CLI</a> and take full advantage of its
help system (e.g. program &amp; option descriptions). This gives you a more usable
CLI, and as a side bonus you just need to run <code class="language-plaintext highlighter-rouge">mycli -h</code> to copy &amp; paste your
full CLI documentation.</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; mycli -h
Usage: mycli [options]

Foos your bar.

Options:
  -b, --bar &lt;string&gt;  foo what?
  -v, --version       display package version
  -h, --help          display help for command
</code></pre></div>    </div>
  </li>
  <li>
    <p>Take full advantage of <a href="https://jsdoc.app/index.html">JSDoc</a> by leveraging
<a href="https://jsdoc.app/tags-typedef.html"><code class="language-plaintext highlighter-rouge">@typedef</code></a> syntax (an
<a href="https://github.com/karmaniverous/serify-deserify/blob/main/lib/options/types.js">example</a>)
and importing types from a common file (another
<a href="https://github.com/karmaniverous/serify-deserify/blob/d935ad091d43b4aefc4677c067ac706b89f4cf66/lib/serify/serify.js#L5">example</a>).</p>
  </li>
</ul>

<p class="notice--warning"><strong>Don’t edit your
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/README.md"><code class="language-plaintext highlighter-rouge">README</code></a>
file directly!</strong> Any changes you make will be lost the next time you run
<code class="language-plaintext highlighter-rouge">npm run doc</code>.</p>

<h2 id="integration-testing">Integration Testing</h2>

<p>Your unit tests exercise your code <em>internally</em>. Integration testing validates
your code <em>externally</em>, and might include the following:</p>

<ul>
  <li>
    <p>Testing your <code class="language-plaintext highlighter-rouge">import</code> entry points from external code.</p>
  </li>
  <li>
    <p>Testing your <code class="language-plaintext highlighter-rouge">require</code> entry points from external code.</p>
  </li>
  <li>
    <p>Testing your CLI entry points from the command line.</p>
  </li>
</ul>

<p>There are several ways to accomplish these:</p>

<ol>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">npm run link</code> to install a global symlink to your local package. This
has an effect similar to <code class="language-plaintext highlighter-rouge">npm install -g my-package</code>, and will enable you to
test your CLI entry points from your local command line without publishing to
NPM.</p>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">npm install c:/package-path/my-package</code> to install your package as a
file dependency in another package. This will enable you to test your
<code class="language-plaintext highlighter-rouge">import</code> and <code class="language-plaintext highlighter-rouge">require</code> entry points without publishing to NPM. Run a global
install or use <code class="language-plaintext highlighter-rouge">npx mycli</code> to test your CLI entry points.</p>
  </li>
  <li>
    <p><a href="#create--publish-a-release">Publish a release</a> to NPM with a pre-release
version number. Then run <code class="language-plaintext highlighter-rouge">npm install my-package 0.0.1-0</code> (reflecting the
pre-release version) to install your package into another package as a
dependency, and test as required.</p>
  </li>
</ol>

<p>Each of these approaches has its trade-offs, but a smart plan is to skip the
first and do the last two, in that order.</p>

<p><strong><em>If the second approach passes, why bother with the third?</em></strong></p>

<p>Because your local project contains <em>all</em> your files, whereas your package
<code class="language-plaintext highlighter-rouge">.npmignore</code> files determine which ones actually get published to NPM. That last
approach validates that your published package has the expected contents.</p>

<p>As a final check, review your package’s Code tab at NPM in order to validate
that your <code class="language-plaintext highlighter-rouge">.npmignore</code> files <em>blocked</em> everything they should have (e.g.
environment secrets, dev tool configs).</p>

<figure>
  <a href="/assets/images/serify-deserify-code-tab.png">
    <img src="/assets/images/serify-deserify-code-tab.png" />
  </a>
</figure>

<h2 id="create--publish-a-release">Create &amp; Publish a Release</h2>

<p>Before you can publish a package to <a href="https://www.npmjs.com/">NPM</a>, you’ll need
to set up an NPM account.</p>

<h3 id="package-scope--access">Package Scope &amp; Access</h3>

<p>Your NPM user name is a <a href="https://docs.npmjs.com/about-scopes"><em>scope</em></a>. If you
create an organization, its unique organization name is also a scope.</p>

<p><em>Unscoped</em> packages have names like
<a href="https://www.npmjs.com/package/lodash"><code class="language-plaintext highlighter-rouge">lodash</code></a>. An unscoped package name must
be unique across NPM.</p>

<p><em>Scoped</em> packages have names like
<a href="https://www.npmjs.com/package/@karmaniverous/serify-deserify"><code class="language-plaintext highlighter-rouge">@karmaniverous/serify-deserify</code></a>.
<code class="language-plaintext highlighter-rouge">@karmaniverous</code> in this case is the scope. A scoped package name only needs to
be unique within its scope.</p>

<p>NPM packages may be <em>public</em> or <em>private</em>. A
<a href="https://docs.npmjs.com/about-public-packages">public package</a> can be seen and
used by anyone. A
<a href="https://www.npmjs.com/package/@karmaniverous/serify-deserify">private package</a>
can only be seen &amp; used by your collaborators or other users with access to your
organization scope.</p>

<p>Only scoped packages can be private. Only paid NPM accounts can create private
packages.</p>

<p>Even if you are only creating public packages, it is a good idea to create
<em>scoped</em> packages because it groups them logically and gives you much more
flexibility in naming them.</p>

<p><a href="https://docs.npmjs.com/packages-and-modules/introduction-to-packages-and-modules">Click here</a>
for more info about NPM package scope &amp; access.</p>

<h3 id="configuring-packagejson">Configuring <code class="language-plaintext highlighter-rouge">package.json</code></h3>

<p>When you publish an NPM package, NPM gets most of its info from your
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>
file.</p>

<p>Set the following values in
<a href="https://github.com/karmaniverous/npm-package-template/blob/main/package.json"><code class="language-plaintext highlighter-rouge">package.json</code></a>,
using the template file as an example.</p>

<p>This info is critical. You can’t publish your package properly without it:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name</code> – The desired package name on NPM. Include scope if relevant. See
<a href="#package-scope--access">Package Scope &amp; Access</a> for more info.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">version</code> – Your package version. Uses
<a href="https://www.geeksforgeeks.org/introduction-semantic-versioning/">semantic versioning</a>.
Set this initially to <code class="language-plaintext highlighter-rouge">0.0.0</code> and the template’s
<a href="#create--publish-a-release">release process</a> will manage it from there.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">publishConfig.access</code> – <code class="language-plaintext highlighter-rouge">restricted</code> for private packages, otherwise
<code class="language-plaintext highlighter-rouge">public</code>. See <a href="#package-scope--access">Package Scope &amp; Access</a> for more info.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">exports</code> – Your <a href="#develop-import-entry-points"><code class="language-plaintext highlighter-rouge">import</code></a> and
<a href="#configure-require-entry-points"><code class="language-plaintext highlighter-rouge">require</code></a> entry points. Click the links for
more info.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bin</code> – Your CLI entry points. See
<a href="#bin-entry-points"><code class="language-plaintext highlighter-rouge">bin</code> Entry Points</a> above for more info.</p>
  </li>
</ul>

<p>This info is important but you can always update it in the next release:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">author</code> – Your name, however you’d like it to appear.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bugs.url</code> – A URL for users to report bugs. By default, use the
<a href="https://github.com/karmaniverous/npm-package-template/issues">issues page</a> of
your GitHub repo.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description</code> – A text description of your package. Will be used as the META
description of your NPM package page, so keep it under 160 chars.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">homepage</code> – The main web page of your project. By default, use your GitHub
repo’s
<a href="https://github.com/karmaniverous/npm-package-template#readme">README link</a>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">keywords</code> – An array of strings that will appear as tags on the NPM package
page.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">license</code> – The license associated with your package. See this list of
<a href="https://spdx.org/licenses/">valid license identifiers</a>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">repository.url</code> – GitHub repository URL.</p>
  </li>
</ul>

<h3 id="generating-the-release">Generating the Release</h3>

<p>Before you begin, ensure you have committed all changes to your working branch.</p>

<p>Run this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run package
</code></pre></div></div>

<p>This will check your code for errors, run all of your tests, generate all of
your documentation, and create your build. If there are any issues, fix them. If
you make any changes, commit them.</p>

<p>Now run this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run release
</code></pre></div></div>

<p>This will generate your package <em>again</em>, just to validate there are no more
changes. You will then be asked to select a release increment. Otherwise accept
all defaults.</p>

<p>Your release will be generated on GitHub and published to NPM.</p>

<p>Note that if you have configured Two-Factor Authentication at NPM you will be
asked to enter a One-Time Password (OTP).</p>

<p>Add other <a href="https://github.com/release-it/release-it#readme"><code class="language-plaintext highlighter-rouge">release-it</code></a>
options after <code class="language-plaintext highlighter-rouge">---</code> (Windows) or <code class="language-plaintext highlighter-rouge">--</code> (Mac/Linux). For example, to specify a
patch release, and accept all defaults with no user interaction, run this
command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Windows only.</span>
npm run release <span class="nt">---</span> patch <span class="nt">--ci</span>

<span class="c"># Mac/Linux.</span>
npm run release <span class="nt">--</span> patch <span class="nt">--ci</span>
</code></pre></div></div>

<p>See the <a href="https://github.com/release-it/release-it#readme"><code class="language-plaintext highlighter-rouge">release-it</code> README</a>
for more info on available options.</p>

<h2 id="integrate-a-template-update">Integrate a Template Update</h2>

<p>Follow
<a href="https://karmanivero.us/blog/installing-github-repo-template-updates/">these instructions</a>.</p>

<h2 id="issues">Issues</h2>

<ul>
  <li>The documentation system is choking on dynamic import assertions for for now I’ve added an exclusion to the one directory that uses them (<a href="https://github.com/karmaniverous/npm-package-template/tree/main/lib/packageInfo">packageInfo</a>).</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Topics: </strong>
    <span itemprop="keywords">
    
      <a href="/topics/javascript" class="page__taxonomy-item p-category" rel="tag">javascript</a><span class="sep">, </span>
    
      <a href="/topics/npm" class="page__taxonomy-item p-category" rel="tag">npm</a><span class="sep">, </span>
    
      <a href="/topics/projects" class="page__taxonomy-item p-category" rel="tag">projects</a><span class="sep">, </span>
    
      <a href="/topics/template" class="page__taxonomy-item p-category" rel="tag">template</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-12-19T00:00:00+00:00">December 19, 2022</time></p>

      </footer>

      
        <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=karmaniverous&text=NPM+Package+Template%20https%3A%2F%2Fkarmanivero.us%2Fnpm-package-template%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkarmanivero.us%2Fnpm-package-template%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://karmanivero.us/npm-package-template/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/poodle-wars/" class="pagination--pager" title="Poodle Wars: A Conversation with ChatGPT
">Previous</a>
    
    
      <a href="/react-component-npm-package-template/" class="pagination--pager" title="React Component NPM Package Template
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    




















  



  
  

  
  

  
  

  
  <div class='page__related'>
    
    <h2 class='page__related-title'>
      You may also enjoy
    </h2>
    <div class='grid__wrapper'>

      
      
        
        
        
        
        
        
      

        
      

        
        <!-- post_url: /the-big-miss-turning-lemons-into-lemonade/ -->
        <!-- normLogCommonTags: 0.5 -->
        <!-- logAge: 0.090451388888889 -->
        <!-- relevance: 51410 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/lemons-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/the-big-miss-turning-lemons-into-lemonade/" rel="permalink">The Big Miss: Turning Lemons Into Lemonade
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i
          class="far fa-fw fa-calendar-alt"
          aria-hidden="true"
        ></i>
        
        <time datetime="2024-11-20T00:00:00+00:00">November 20, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-fw fa-clock"
          aria-hidden="true"
        ></i>
        
          8
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Today was one of those days when I question my life choices. Watch me dig my way out of a hole with the same shovel I used to dig my way in.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /projects/entity-manager/sql-vs-nosql/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.0 -->
        <!-- relevance: 45000 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/collections/entity-manager/sql-vs-nosql-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/projects/entity-manager/sql-vs-nosql/" rel="permalink">SQL vs NoSQL
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          4
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">A well-tuned NoSQL database can outperform an RDBMS by orders of magnitude at scale… but not for free! Entity Manager helps close the gap.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /projects/entity-manager/intro/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.0 -->
        <!-- relevance: 45000 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/collections/entity-manager/entity-manager-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/projects/entity-manager/intro/" rel="permalink">Meet Entity Manager!
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          2
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">NoSQL shifts the burden of complexity from the database platform to the developer. Entity Manager sweeps it under the rug!
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /projects/entity-manager/evolving-a-nosql-db-schema/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.0 -->
        <!-- relevance: 45000 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/collections/entity-manager/evolving-a-nosql-db-schema-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/projects/entity-manager/evolving-a-nosql-db-schema/" rel="permalink">Evolving a NoSQL Database Schema
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          31
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In a NoSQL environment, Entity Manager organizes the physical distribution of data to support efficient query operations.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /projects/entity-manager/demo/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.0 -->
        <!-- relevance: 45000 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/collections/entity-manager/configuration-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/projects/entity-manager/demo/" rel="permalink">Entity Manager: A Demonstration
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          16
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Presenting a step-by-step Typescript implementation of a realistic data model against DynamoDB, with the help of Entity Manager.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /projects/entity-manager/configuration/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.0 -->
        <!-- relevance: 45000 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/collections/entity-manager/configuration-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/projects/entity-manager/configuration/" rel="permalink">Entity Manager Configuration
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-clock"
          aria-hidden="true"
        ></i>
        
          22
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Entity Manager enables efficient put, get, and query operations across entity relationships, indexes, and sharded partitions in a NoSQL database.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /composition-in-action-finishing-the-swing/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.1278266059027775 -->
        <!-- relevance: 44872 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://github.com/karmaniverous/controlled-proxy/raw/main/assets/controlled-proxy-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/composition-in-action-finishing-the-swing/" rel="permalink">Composition in Action: Finishing the Swing
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i
          class="far fa-fw fa-calendar-alt"
          aria-hidden="true"
        ></i>
        
        <time datetime="2024-10-16T00:00:00+00:00">October 16, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-fw fa-clock"
          aria-hidden="true"
        ></i>
        
          9
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In software engineering, what look to be the easy parts often turn out to be the hard parts. If you’re lucky, the reverse is also true, but don’t count on it.
</p>
  </article>
</div>


        
        
        
      
        
        
        
        
        
      

        
      

        
        <!-- post_url: /mixin-it-up-picking-the-right-problem-to-solve/ -->
        <!-- normLogCommonTags: 0.0 -->
        <!-- logAge: 5.2528266059027775 -->
        <!-- relevance: 44747 -->

        
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/mixin-it-up-square.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/mixin-it-up-picking-the-right-problem-to-solve/" rel="permalink">Mixin It Up: Picking The Right Problem to Solve
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i
          class="far fa-fw fa-calendar-alt"
          aria-hidden="true"
        ></i>
        
        <time datetime="2024-10-12T00:00:00+00:00">October 12, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i
          class="far fa-fw fa-clock"
          aria-hidden="true"
        ></i>
        
          9
          minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Sometimes, when you’re tangled up in a thorny problem, solving it is exactly the wrong answer.
</p>
  </article>
</div>


        
        
        
          
    </div>
  </div>

  
</div>
      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form onsubmit="return googleCustomSearchExecute();" id="cse-search-box-form-id" role="search">
    <label class="sr-only" for="cse-search-input-box-id">
      Enter your search term...
    </label>
    <input type="search" id="cse-search-input-box-id" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results">
    <gcse:searchresults-only></gcse:searchresults-only>
  </div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  
    <span class="love">Built for you with ❤️ on <a href="/bali/">Bali</a>!</span>
  

  <ul class="social-icons">
    
      <li>
        <strong>Contact</strong>&nbsp;&nbsp;&nbsp;</li>
    

    
      
        
          <li>
            <a href="https://twitter.com/karmaniverous" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-x-twitter" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://techhub.social/@karmaniverous" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-mastodon" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://github.com/karmaniverous" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-github" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://www.linkedin.com/in/jscroft/" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://wa.me/17737500338" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-square-whatsapp" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://t.me/karmaniverous" rel="nofollow noopener noreferrer">
              <i class="fa-brands fa-telegram" aria-hidden="true"></i>
              </a>
          </li>
        
      
        
          <li>
            <a href="https://calendly.com/karmaniverous" rel="nofollow noopener noreferrer">
              <i class="fa-regular fa-calendar-plus" aria-hidden="true"></i>
              </a>
          </li>
        
      
    

    
      <li>
        <a href="/feed.xml">
          <i class="fas fa-fw fa-rss-square" aria-hidden="true"></i>
           </a>
      </li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024
  <a href="https://karmanivero.us">some words</a>. Powered by
  <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a>
  &amp;
  <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>


<script>
  (function () {
    var cx = '960ee5d1b2fec4509';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();

  function googleCustomSearchExecute() {
    var input = document.getElementById('cse-search-input-box-id');
    var element = google.search.cse.element.getElement('searchresults-only0');
    if (input.value == '') {
      element.clearAllResults();
    } else {
      element.execute(input.value);
    }
    return false;
  }

  
    $(document).ready(function () {
      $('input#cse-search-input-box-id').on('keyup', function () {
        googleCustomSearchExecute();
      });
    });
  
</script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://karmanivero.us/npm-package-template/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/npm-package-template"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://some-words.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




  </body>
</html>
